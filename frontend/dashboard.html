<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faculty Dashboard - MRIT Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #4f46e5;
            --primary-dark: #4338ca;
            --secondary: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-main: #f8fafc;
            --bg-card: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg-main);
            color: var(--text-primary);
        }
        
        /* Header */
        .header { 
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; 
            padding: 1.5rem 2rem; 
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-left { display: flex; align-items: center; gap: 1.5rem; }
        
        .profile-pic { 
            width: 56px; 
            height: 56px; 
            border-radius: 50%; 
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 700;
            font-size: 1.25rem;
            border: 3px solid rgba(255,255,255,0.3);
        }
        
        .faculty-info h2 { 
            font-size: 1.5rem; 
            font-weight: 600;
            margin-bottom: 0.25rem; 
        }
        
        .faculty-info p { 
            font-size: 0.9rem; 
            opacity: 0.9; 
        }
        
        .header-right { 
            display: flex; 
            align-items: center; 
            gap: 1.5rem; 
        }
        
        .date-display { 
            font-size: 0.95rem; 
            opacity: 0.95;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logout-btn {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        /* Container */
        .container { 
            max-width: 1400px; 
            margin: 0 auto; 
            padding: 2rem 1.5rem; 
        }
        
        /* Quick Actions */
        .quick-actions { 
            background: var(--bg-card);
            border-radius: 16px; 
            padding: 2rem; 
            margin-bottom: 2rem; 
            box-shadow: var(--shadow-sm);
        }
        
        .quick-actions h3 { 
            margin-bottom: 1.5rem; 
            color: var(--text-primary);
            font-size: 1.25rem;
            font-weight: 600;
        }
        
        .actions-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
            gap: 1rem; 
        }
        
        .action-btn { 
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; 
            padding: 1.25rem 1.5rem; 
            border-radius: 12px; 
            text-decoration: none; 
            text-align: center; 
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }
        
        .action-btn:hover { 
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .action-btn.secondary { 
            background: linear-gradient(135deg, var(--secondary) 0%, #059669 100%);
        }
        
        .action-btn.warning { 
            background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
        }
        
        /* Dashboard Grid */
        .dashboard-grid { 
            display: grid; 
            grid-template-columns: 2fr 1fr; 
            gap: 2rem; 
            margin-bottom: 2rem; 
        }
        
        /* Card */
        .card { 
            background: var(--bg-card);
            border-radius: 16px; 
            padding: 2rem; 
            box-shadow: var(--shadow-sm);
            transition: all 0.3s;
        }
        
        .card:hover {
            box-shadow: var(--shadow-md);
        }
        
        .card h3 { 
            color: var(--text-primary);
            margin-bottom: 1.5rem; 
            display: flex; 
            align-items: center; 
            gap: 0.75rem;
            font-size: 1.25rem;
            font-weight: 600;
        }
        
        /* Timetable */
        .timetable-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 1.5rem; 
        }
        
        .date-selector { 
            padding: 0.75rem 1rem; 
            border: 2px solid var(--border);
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: all 0.3s;
        }
        
        .date-selector:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .timetable { 
            display: grid; 
            grid-template-columns: 100px repeat(6, 1fr); 
            gap: 0.75rem;
        }
        
        .time-header { 
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; 
            padding: 1rem 0.75rem; 
            text-align: center; 
            font-size: 0.85rem;
            font-weight: 600;
            border-radius: 8px;
        }
        
        .period-slot { 
            background: var(--bg-main);
            padding: 1rem 0.75rem; 
            text-align: center; 
            font-size: 0.85rem;
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
            position: relative;
        }
        
        .period-slot:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary);
        }
        
        .period-slot.current { 
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-color: var(--warning);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(245, 158, 11, 0); }
        }
        
        .period-slot.upcoming { 
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-color: var(--secondary);
        }
        
        .period-slot.completed {
            background: #f1f5f9;
            color: var(--text-secondary);
            opacity: 0.6;
        }
        
        .period-slot.free { 
            background: #f1f5f9;
            color: var(--text-secondary);
        }
        
        .subject-info { 
            font-weight: 600; 
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .class-info { 
            font-size: 0.75rem; 
            color: var(--text-secondary);
            margin-top: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
        }
        
        /* Sidebar */
        .sidebar { 
            display: flex; 
            flex-direction: column; 
            gap: 2rem; 
        }
        
        /* Leave Stats */
        .leave-stats { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 1rem; 
            margin-bottom: 1.5rem; 
        }
        
        .stat-card { 
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 1.5rem 1rem; 
            border-radius: 12px; 
            text-align: center;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        
        .stat-number { 
            font-size: 2rem; 
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-label { 
            font-size: 0.85rem; 
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-weight: 500;
        }
        
        /* Leave Balance */
        .balance-item { 
            display: flex; 
            justify-content: space-between; 
            padding: 1rem 0; 
            border-bottom: 1px solid var(--border);
        }
        
        .balance-item:last-child { 
            border-bottom: none; 
        }
        
        .balance-bar {
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .balance-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary) 0%, #059669 100%);
            transition: width 0.3s;
        }
        
        /* Recent Leave */
        .recent-leave { 
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 1.5rem; 
            border-radius: 12px;
        }
        
        /* Approvals */
        .approval-item { 
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 1.5rem; 
            border-radius: 12px; 
            margin-bottom: 1rem;
            border-left: 4px solid var(--warning);
            transition: all 0.3s;
        }
        
        .approval-item:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-md);
        }
        
        .approval-item.hod { 
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-left-color: var(--secondary);
        }
        
        .approval-actions { 
            display: flex; 
            gap: 0.75rem; 
            margin-top: 1rem; 
        }
        
        .approve-btn, .reject-btn { 
            flex: 1;
            padding: 0.75rem 1rem; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .approve-btn { 
            background: var(--secondary);
            color: white; 
        }
        
        .approve-btn:hover {
            background: #059669;
            transform: translateY(-2px);
        }
        
        .reject-btn { 
            background: var(--danger);
            color: white; 
        }
        
        .reject-btn:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }
        

        
        /* Notices */
        .notice-item { 
            padding: 1.5rem; 
            border-bottom: 1px solid var(--border);
            transition: all 0.3s;
        }
        
        .notice-item:hover {
            background: var(--bg-main);
            border-radius: 8px;
        }
        
        .notice-item:last-child { 
            border-bottom: none; 
        }
        
        .notice-date { 
            font-size: 0.8rem; 
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .notice-title { 
            font-weight: 600; 
            color: var(--primary);
            margin: 0.5rem 0; 
        }
        

        
        /* Responsive */
        @media (max-width: 1024px) {
            .dashboard-grid { grid-template-columns: 1fr; }
            .timetable { grid-template-columns: 80px repeat(4, 1fr); }
        }
        
        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .header { padding: 1rem; position: relative; }
            .header-content { flex-direction: column; gap: 1rem; align-items: stretch; }
            .header-left { flex-direction: row; text-align: left; gap: 1rem; }
            .header-right { flex-direction: row; width: 100%; justify-content: space-between; }
            .logout-btn { width: auto; min-height: 48px; padding: 0.75rem 1.5rem; }
            .date-display { font-size: 0.85rem; }
            
            .quick-actions { padding: 1rem; }
            .actions-grid { grid-template-columns: 1fr; }
            .action-btn { min-height: 56px; font-size: 1.1rem; }
            
            .dashboard-grid { grid-template-columns: 1fr; }
            
            /* Mobile Timetable - List View */
            .timetable { 
                display: flex;
                flex-direction: column;
                gap: 0.75rem;
                background: transparent;
            }
            .time-header { display: none; }
            .period-slot { 
                display: block;
                padding: 1rem;
                text-align: left;
                min-height: 48px;
            }
            .period-slot::before {
                content: attr(data-time);
                display: block;
                font-weight: 600;
                color: var(--primary);
                margin-bottom: 0.5rem;
                font-size: 0.9rem;
            }
            
            .leave-stats { grid-template-columns: 1fr; }
            .card { padding: 1rem; }
            .card h3 { font-size: 1rem; }
            
            .approve-btn, .reject-btn { min-height: 48px; font-size: 1rem; }
        }
        
        @media (max-width: 480px) {
            .header { padding: 0.75rem; }
            .profile-pic { width: 40px; height: 40px; font-size: 1rem; }
            .faculty-info h2 { font-size: 1rem; }
            .faculty-info p { font-size: 0.8rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <div class="profile-pic" id="profilePic">DS</div>
                <div class="faculty-info">
                    <h2 id="facultyGreeting">Good Afternoon, Dr. Smith</h2>
                    <p id="facultyDetails">Computer Science Department • Professor • EMP001</p>
                </div>
            </div>
            <div class="header-right">
                <div class="date-display">
                    <i class="fas fa-calendar-alt"></i>
                    <span id="currentDate">Monday, 2nd December 2025</span>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Quick Actions -->
        <div class="quick-actions">
            <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
            <div class="actions-grid">
                <a href="leave.html" class="action-btn">
                    <i class="fas fa-umbrella-beach"></i> Leave Management
                </a>
                <a href="attendance.html" class="action-btn warning">
                    <i class="fas fa-clipboard-check"></i> Mark Attendance
                </a>
            </div>
        </div>

        <div class="dashboard-grid">
            <!-- Timetable -->
            <div class="card">
                <div class="timetable-header">
                    <h3><i class="fas fa-calendar-day"></i> Today's Schedule</h3>
                    <input type="date" class="date-selector" id="scheduleDate" onchange="loadSchedule()">
                </div>
                
                <div class="timetable" id="timetable">
                    <div class="time-header">Time</div>
                    <div class="time-header">9:15 AM</div>
                    <div class="time-header">10:15 AM</div>
                    <div class="time-header">11:30 AM</div>
                    <div class="time-header">12:30 PM</div>
                    <div class="time-header">2:30 PM</div>
                    <div class="time-header">3:30 PM</div>
                </div>
            </div>

            <div class="sidebar">
                <!-- Leave Overview -->
                <div class="card">
                    <h3><i class="fas fa-umbrella-beach"></i> Leave Overview</h3>
                    
                    <div class="leave-stats">
                        <div class="stat-card">
                            <div class="stat-number" id="pendingLeaves">0</div>
                            <div class="stat-label">Pending</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="approvedLeaves">0</div>
                            <div class="stat-label">Approved</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="rejectedLeaves">0</div>
                            <div class="stat-label">Rejected</div>
                        </div>
                    </div>

                    <div class="leave-balance" id="leaveBalance">
                        <h4 style="margin-bottom: 1rem;">Balance:</h4>
                    </div>

                    <div class="recent-leave" id="recentLeave">
                        <h4>Last Update:</h4>
                        <p>Loading...</p>
                    </div>
                </div>

                <!-- Approvals -->
                <div class="card">
                    <h3><i class="fas fa-tasks"></i> Approvals Center</h3>
                    <div id="substituteApprovals">
                        <p style="color: var(--text-secondary); text-align: center;">Loading...</p>
                    </div>
                    <div id="hodApprovals"></div>
                </div>
            </div>
        </div>

        <!-- Notices -->
        <div class="card">
            <h3><i class="fas fa-bullhorn"></i> Notices</h3>
            <div id="noticesList">
                <p style="color: var(--text-secondary); text-align: center;">No notices available</p>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
